<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dicky News Unlock | Generator</title>

<style>
body{
  font-family: 'Segoe UI', Arial, sans-serif;
  background:#0f172a;
  color:#fff;
  text-align:center;
  padding:30px;
}
.box{
  max-width:600px;
  margin:auto;
  background:#1e293b;
  padding:35px;
  border-radius:20px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.05);
}
h2 { color: #ffcc00; margin-bottom: 25px; font-weight: 800; }
input{
  width: 100%;
  padding: 15px;
  margin: 15px 0;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #0f172a;
  color: #fff;
  font-size: 15px;
  box-sizing: border-box;
  transition: 0.3s;
}
input:focus {
  border-color: #ffcc00;
  outline: none;
  box-shadow: 0 0 15px rgba(255, 204, 0, 0.2);
}
button{
  width:100%;
  padding:16px;
  margin:10px 0;
  border:none;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
  font-weight: bold;
  transition: 0.4s;
}
.btn-task { background: #4a5568; color: white; margin-bottom: 12px; }
.btn-done { background: #1e293b !important; color: #64748b !important; cursor: not-allowed; border: 1px solid #4a5568; }
.btn-primary { background: #ffcc00; color: #0f172a; text-transform: uppercase; letter-spacing: 1px; }
.btn-primary:hover { background: #fff; transform: translateY(-2px); }
#result{ margin-top:25px; padding: 20px; background: rgba(0,0,0,0.2); border-radius: 12px; }
.copy-info { font-size: 12px; color: #94a3b8; margin-top: 8px; }
</style>
</head>

<body>

<div class="box" id="app"></div>

<script>
const params = new URLSearchParams(window.location.search);
const app = document.getElementById("app");

// KONFIGURASI LINK SOSIAL MEDIA KAMU (OTOMATIS)
const mySocialLinks = {
  ytch: "https://youtube.com/@dickynews",
  ytch2: "https://youtube.com/@dickynewsofficial",
  ytvid: "https://youtu.be/pn-l2I36qEE",
  ig: "https://www.instagram.com/dickynews",
  tt: "https://www.tiktok.com/@dickynewsyt_",
  fb: "https://www.facebook.com/dickynews45"
};

// ================= MODE 1: GENERATOR (Hanya 1 Input) =================
if(params.toString() === "" || !params.get("custom")){

app.innerHTML = `
<h2>Unlock Link Generator</h2>
<p style="color: #94a3b8; font-size: 14px;">Masukkan link file tujuan saja. Link sosial media akan ditambahkan otomatis.</p>
<input id="custom" placeholder="Tempel Link File / Mediafire / Drive di sini...">

<button class="btn-primary" onclick="generate()">Buat Link Unlock</button>
<div id="result" style="display:none;"></div>
`;

window.generate = function(){
  let targetLink = document.getElementById("custom").value.trim();
  
  if(!targetLink){
      alert("Masukkan link tujuan terlebih dahulu!");
      return;
  }

  let base = window.location.origin + window.location.pathname;
  let arr = [];
  
  // Menambahkan link sosial media dari konfigurasi otomatis
  for (let key in mySocialLinks) {
    arr.push(key + "=" + encodeURIComponent(mySocialLinks[key]));
  }
  
  // Menambahkan link tujuan kustom
  arr.push("custom=" + encodeURIComponent(targetLink));

  let finalLink = base + "?" + arr.join("&");
  
  const resultArea = document.getElementById("result");
  resultArea.style.display = "block";
  resultArea.innerHTML = `
    <p style="color: #ffcc00; font-weight: bold; margin-bottom: 10px;">Link Unlock Berhasil Dibuat!</p>
    <input readonly value='${finalLink}' onclick='this.select(); document.execCommand("copy"); alert("Link tersalin!");' style='cursor:pointer; text-align:center;'>
    <div class="copy-info">Klik pada kotak di atas untuk menyalin link otomatis</div>
  `;
};

}

// ================= MODE 2: UNLOCK (Tampilan Pengunjung) =================
else {
app.innerHTML = "<h3>Selesaikan langkah di bawah untuk membuka link ðŸ‘‡</h3><div id='task-list'></div><div id='unlock-area'></div>";

let totalTasks = 0;
let completedTasks = 0;
const taskList = document.getElementById('task-list');

function addBtn(text, link){
  totalTasks++;
  let b = document.createElement("button");
  b.innerText = text;
  b.className = "btn-task";
  
  b.onclick = function(){
    window.open(link, "_blank");
    if(!b.classList.contains("btn-done")){
        b.classList.add("btn-done");
        b.innerText = "âœ… " + text;
        completedTasks++;
        if(completedTasks >= totalTasks) showOpenButton();
    }
  };
  taskList.appendChild(b);
}

function showOpenButton(){
  const area = document.getElementById('unlock-area');
  area.innerHTML = ""; 
  let o = document.createElement("button");
  o.innerText = "BUKA LINK TUJUAN";
  o.className = "btn-primary";
  o.style.marginTop = "20px";
  o.style.background = "#22c55e";
  o.style.color = "white";
  o.onclick = function(){
    window.location.href = params.get("custom");
  };
  area.appendChild(o);
}

if(params.get("ytch")) addBtn("Subscribe YouTube Utama", params.get("ytch"));
if(params.get("ytch2")) addBtn("Subscribe YouTube Kedua", params.get("ytch2"));
if(params.get("ytvid")) addBtn("Like & Comment Video", params.get("ytvid"));
if(params.get("ig")) addBtn("Follow Instagram", params.get("ig"));
if(params.get("tt")) addBtn("Follow TikTok", params.get("tt"));
if(params.get("fb")) addBtn("Follow Facebook", params.get("fb"));

if(totalTasks === 0) showOpenButton();
}
</script>

</body>
</html>
